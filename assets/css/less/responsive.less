////////////////////////////////////////////////////////////////////////////////
// Responsive
////////////////////////////////////////////////////////////////////////////////

////
// Templates
#responsive {
    .base() {}
    .small() {}
    .mobile() {}
    .tablet() {}
    .desktop() {}
    .large() {}
}

////////////////////////////////////////////////////////////////////////////////
// Visibility Classes
////////////////////////////////////////////////////////////////////////////////


#responsive {
    
    ////
    // Small Visibility
    .small() {
        ////
        // Things to show
        .visible-small      { .is-visible(); }
        .visible-mobile     { .is-visible(); }
        .visible-tablet     { .is-hidden();  }
        .visible-desktop    { .is-hidden();  }
        .visible-large      { .is-hidden();  }
        ////
        // Things to hide
        .hidden-small       { .is-hidden();  }
        .hidden-mobile      { .is-hidden();  }
        .hidden-tablet      { .is-visible(); }
        .hidden-desktop     { .is-visible(); }
        .hidden-large       { .is-visible(); }
    }

    ////
    // Mobile Visibility
    .mobile() {
        ////
        // Things to show
        .visible-small      { .is-hidden();  }
        .visible-mobile     { .is-visible(); }
        .visible-tablet     { .is-hidden();  }
        .visible-desktop    { .is-hidden();  }
        .visible-large      { .is-hidden();  }
        ////
        // Things to hide
        .hidden-small       { .is-visible(); }
        .hidden-mobile      { .is-hidden();  }
        .hidden-tablet      { .is-visible(); }
        .hidden-desktop     { .is-visible(); }
        .hidden-large       { .is-visible(); }
    }
    
    ////
    // Tablet Visibility
    .tablet() {
        ////
        // Things to show
        .visible-small      { .is-hidden();  }
        .visible-mobile     { .is-hidden();  }
        .visible-tablet     { .is-visible(); }
        .visible-desktop    { .is-hidden();  }
        .visible-large      { .is-hidden();  }
        ////
        // Things to hide
        .hidden-small       { .is-visible(); }
        .hidden-mobile      { .is-visible(); }
        .hidden-tablet      { .is-hidden();  }
        .hidden-desktop     { .is-visible(); }
        .hidden-large       { .is-visible(); }
    }
    ////
    // Desktop Visibility
    .desktop() {
        ////
        // Things to show
        .visible-small      { .is-hidden();  }
        .visible-mobile     { .is-hidden();  }
        .visible-tablet     { .is-hidden();  }
        .visible-desktop    { .is-visible(); }
        .visible-large      { .is-hidden();  }
        ////
        // Things to hide
        .hidden-small       { .is-visible(); }
        .hidden-mobile      { .is-visible(); }
        .hidden-tablet      { .is-visible(); }
        .hidden-desktop     { .is-hidden();  }
        .hidden-large       { .is-visible(); }
    }
    ////
    // Large Visibility
    .large() {
        ////
        // Things to show
        .visible-small      { .is-hidden();  }
        .visible-mobile     { .is-hidden();  }
        .visible-tablet     { .is-hidden();  }
        .visible-desktop    { .is-visible(); }
        .visible-large      { .is-visible(); }
        ////
        // Things to hide
        .hidden-small       { .is-visible(); }
        .hidden-mobile      { .is-visible(); }
        .hidden-tablet      { .is-visible(); }
        .hidden-desktop     { .is-hidden();  }
        .hidden-large       { .is-hidden();  }
    }
}

////////////////////////////////////////////////////////////////////////////////
// Grid System Assignment
////////////////////////////////////////////////////////////////////////////////

#responsive {
    .base() {
        #grid_system( @grid_row_width, @grid_gutter_width );
    }
    .small() {
        // Does not use a grid system
    }
    .mobile() {
        // Does not use a grid system
    }
    .tablet() {
        #grid_system( @grid_tablet_row_width, @grid_tablet_gutter_width );
    }
    .desktop() {
        #grid_system( @grid_desktop_row_width, @grid_desktop_gutter_width );
    }
    .large() {
        #grid_system( @grid_large_row_width, @grid_large_gutter_width );
    }
}

////////////////////////////////////////////////////////////////////////////////
// Media Queries
////////////////////////////////////////////////////////////////////////////////

#media-queries() when (@media_mode = mobile-first) {
    ////
    // Mobile first
    #responsive > .mobile;
    ////
    // Small: @media_small and below
    @media screen and (max-width: @media_small ) {
        #responsive > .small;
    }
    ////
    // Tablet: @media_tablet_min and above
    @media screen and ( min-width: @media_tablet_min ) {
        #responsive > .tablet;
    }
    ////
    // Desktop: @media_desktop_min and above
    @media screen and ( min-width: @media_desktop_min ) {
        #responsive > .desktop;
    }
    ////
    // Larger: @media_large and above
    @media screen and ( min-width: @media_large ) {
        #responsive > .large;
    }
}
#media-queries() when (@media_mode = desktop-first) {
    ////
    // Larger: @media_large and above
    @media screen and ( min-width: @media_large ) {
        #responsive > .large;
    }
    ////
    // Desktop Between @media_desktop_min and @media_desktop_max
    @media screen and ( min-width: @media_desktop_min ) and ( max-width: @media_desktop_max ) {
        #responsive > .desktop;
    }
    ////
    // Tablet: Between @media_tablet_min and @media_tablet_max
    @media screen and (min-width: @media_tablet_min ) and ( max-width: @media_tablet_max ) {
        #responsive > .tablet;
    }
    ////
    // Mobile: @media_mobile and below
    @media screen and (max-width: @media_mobile ) {
        #responsive > .mobile;
    }
    ////
    // Small: @media_small and below
    @media screen and (max-width: @media_small ) {
        #responsive > .small;
    }
}
#media-queries() when (@media_mode = off) {
    ////
    // No media queries here
    #responsive > .base;
}

////
// Build media queries
#media-queries();