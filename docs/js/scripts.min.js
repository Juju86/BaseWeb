function current_subpage(){var t=window.location.hash;console.log(t),$('.subnav a[href*="'+t+'"]').closest("li").addClass("active"),$(t).fadeIn(250)}function activenav(){var t=window.location.pathname;t=t.replace(/\/$/,""),t=decodeURIComponent(t),$(".mainnav a").each(function(){var n=$(this).attr("href");t.substring(0,n.length)===n&&$(this).closest("li").addClass("active")}).click(function(){$(".mainnav li").removeClass("active"),$(this).closest("li").addClass("active")})}function subpages(){$(".subnav a").click(function(){$(".subnav li").removeClass("active"),$(this).closest("li").addClass("active");var t=$(this).attr("href");$(".subpage").is(":visible")?($(".subpage").fadeOut(250),$(t).delay(250).fadeIn(250)):$(t).fadeIn(250);var n=$(t),o=n.attr("id");return console.log(o),n.removeAttr("id"),location.hash=t,n.attr("id",o),$("html, body").animate({scrollTop:0},250),!1})}function ishome(){var t=window.location.pathname;"/"===t||"/index.html"===t?$("body").addClass("is_home"):$("body").removeClass("is_home"),$(".page-home .mainnav a").click(function(){$("body").removeClass("is_home")})}!function(t,n,o){"use strict";if(!history.pushState)return t.fn.smoothState=function(){return this},void(t.fn.smoothState.options={});if(!t.fn.smoothState){var e=t("html, body"),a=n.console||!1,i={anchors:"a",prefetch:!1,blacklist:".no-smoothstate, [target]",development:!1,pageCacheSize:0,alterRequestUrl:function(t){return t},onStart:{duration:0,render:function(){e.scrollTop(0)}},onProgress:{duration:0,render:function(){e.css("cursor","wait"),e.find("a").css("cursor","wait")}},onEnd:{duration:0,render:function(t,n,o){e.css("cursor","auto"),e.find("a").css("cursor","auto"),n.html(o)}},callback:function(){}},r={isExternal:function(t){var o=t.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);return"string"==typeof o[1]&&o[1].length>0&&o[1].toLowerCase()!==n.location.protocol?!0:"string"==typeof o[2]&&o[2].length>0&&o[2].replace(new RegExp(":("+{"http:":80,"https:":443}[n.location.protocol]+")?$"),"")!==n.location.host?!0:!1},isHash:function(t){var o=t.indexOf(n.location.pathname)>0?!0:!1,e=t.indexOf("#")>0?!0:!1;return o&&e?!0:!1},shouldLoad:function(t,n){var o=t.prop("href");return!r.isExternal(o)&&!r.isHash(o)&&!t.is(n)},htmlDoc:function(n){var o,e=t(),a=/<(\/?)(html|head|body|title|base|meta)(\s+[^>]*)?>/gi,i="ss"+Math.round(1e5*Math.random()),r=n.replace(a,function(n,o,a,r){var s={};return o||(t.merge(e,t("<"+a+"/>")),r&&t.each(t("<div"+r+"/>")[0].attributes,function(t,n){s[n.name]=n.value}),e.eq(-1).attr(s)),"<"+o+"div"+(o?"":" id='"+i+(e.length-1)+"'")+">"});return e.length?(o||(o=t("<div/>")),o.html(r),t.each(e,function(t){var n=o.find("#"+i+t).before(e[t]);e.eq(t).html(n.contents()),n.remove()}),o.children().unwrap()):t(n)},clearIfOverCapacity:function(t,n){return Object.keys||(Object.keys=function(t){var n,o=[];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&o.push(n);return o}),Object.keys(t).length>n&&(t={}),t},getContentById:function(n,o){o=o instanceof jQuery?o:r.htmlDoc(o);var e=o.find(n),a=e.length?t.trim(e.html()):o.filter(n).html(),i=a.length?t(a):null;return i},storePageIn:function(t,n,o){return o=o instanceof jQuery?o:r.htmlDoc(o),t[n]={status:"loaded",title:o.find("title").text(),html:o},t},triggerAllAnimationEndEvent:function(n,o){o=" "+o||"";var e=0,a="animationstart webkitAnimationStart oanimationstart MSAnimationStart",i="animationend webkitAnimationEnd oanimationend MSAnimationEnd",s="allanimationend",c=function(o){t(o.delegateTarget).is(n)&&(o.stopPropagation(),e++)},l=function(o){t(o.delegateTarget).is(n)&&(o.stopPropagation(),e--,0===e&&n.trigger(s))};n.on(a,c),n.on(i,l),n.on("allanimationend"+o,function(){e=0,r.redraw(n)})},redraw:function(t){t.height()}},s=function(o){if(null!==o.state){var e=n.location.href,a=t("#"+o.state.id),i=a.data("smoothState");i.href===e||r.isHash(e)||i.load(e,!0)}},c=function(e,i){var s=t(e),c={},l=n.location.href,u=function(t,o){o=o||!1;var e=!1,a=!1,r={loaded:function(){var i=e?"ss.onProgressEnd":"ss.onStartEnd";a&&e?a&&d(t):s.one(i,function(){d(t)}),o||n.history.pushState({id:s.prop("id")},c[t].title,t)},fetching:function(){e||(e=!0,s.one("ss.onStartEnd",function(){i.onProgress.render(t,s,null),setTimeout(function(){s.trigger("ss.onProgressEnd"),a=!0},i.onStart.duration)})),setTimeout(function(){c.hasOwnProperty(t)&&r[c[t].status]()},10)},error:function(){n.location=t}};c.hasOwnProperty(t)||h(t),i.onStart.render(t,s,null),setTimeout(function(){s.trigger("ss.onStartEnd")},i.onStart.duration),r[c[t].status]()},d=function(t){var e="#"+s.prop("id"),l=c[t]?r.getContentById(e,c[t].html):null;l?(o.title=c[t].title,s.data("smoothState").href=t,i.onEnd.render(t,s,l),s.one("ss.onEndEnd",function(){i.callback(t,s,l)}),setTimeout(function(){s.trigger("ss.onEndEnd")},i.onEnd.duration)):!l&&i.development&&a?a.warn("No element with an id of "+e+" in response from "+t+" in "+c):n.location=t},h=function(n){if(!c.hasOwnProperty(n)){c=r.clearIfOverCapacity(c,i.pageCacheSize),c[n]={status:"fetching"};var o=i.alterRequestUrl(n)||n,e=t.ajax(o);e.success(function(t){r.storePageIn(c,n,t),s.data("smoothState").cache=c}),e.error(function(){c[n].status="error"})}},f=function(n){var o=t(n.currentTarget),e=o.prop("href");r.shouldLoad(o,i.blacklist)&&(n.stopPropagation(),h(e))},m=function(n){var o=t(n.currentTarget),e=o.prop("href");n.metaKey||n.ctrlKey||!r.shouldLoad(o,i.blacklist)||(n.stopPropagation(),n.preventDefault(),u(e))},p=function(t){t.on("click",i.anchors,m),i.prefetch&&t.on("mouseover touchstart",i.anchors,f)},g=function(t){var n=s.addClass(t).prop("class");s.removeClass(n),setTimeout(function(){s.addClass(n)},0),s.one("ss.onStartEnd ss.onProgressEnd ss.onEndEnd",function(){s.removeClass(t)})};return i=t.extend({},t.fn.smoothState.options,i),null===n.history.state&&n.history.replaceState({id:s.prop("id")},o.title,l),r.storePageIn(c,l,o.documentElement.outerHTML),r.triggerAllAnimationEndEvent(s,"ss.onStartEnd ss.onProgressEnd ss.onEndEnd"),p(s),{href:l,cache:c,load:u,fetch:h,toggleAnimationClass:g}},l=function(n){return this.each(function(){this.id&&!t.data(this,"smoothState")?t.data(this,"smoothState",new c(this,n)):!this.id&&a&&a.warn("Every smoothState container needs an id but the following one does not have one:",this)})};n.onpopstate=s,t.smoothStateUtility=r,t.fn.smoothState=l,t.fn.smoothState.options=i}}(jQuery,window,document),function(t){"use strict";var n=t("html, body"),o=t("#main").smoothState({onStart:{duration:250,render:function(){o.toggleAnimationClass("is-exiting"),n.animate({scrollTop:0})}},callback:function(){activenav(),subpages(),ishome()}}).data("smoothState");current_subpage(),activenav(),subpages(),ishome()}(jQuery),function(t){"use strict";t(document).ready(function(){}),t(window).load(function(){})}(jQuery);