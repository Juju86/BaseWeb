////////////////////////////////////////////////////////////////////////////////
// Button Variables
////////////////////////////////////////////////////////////////////////////////

// Structure
$button-height: 40px !default;

// Default Button Colors
$btn-color: $color-dark !default;
$btn-bg-color: $white !default;
$btn-border-color: rgba($black, 0.15) !default;

$btn-color-state: $color-dark !default;
$btn-bg-color-state: $white !default;
$btn-border-color-state: $blue-lighter !default;

$btn-color-active: $white !default;
$btn-bg-color-active: $blue-lighter !default;
$btn-border-color-active: $blue-lighter !default;

////////////////////////////////////////////////////////////////////////////////
// Button Mixins
////////////////////////////////////////////////////////////////////////////////

@mixin base-btn-init {
  // Position
  position: relative;
  vertical-align: middle;
  z-index: 5;
  
  // Box-model
  position: relative;
  display: inline-block;
  @include box-sizing(border-box);
  height: $button-height;
  margin: 0;
  padding: 10px 25px;
  
  // Type
  font-family: $font-family;
  font-size: 14px;
  line-height: 20px;
  text-align: center;
  white-space: nowrap;
  
  // Miscellaneous
  cursor: pointer;
  @content;
}

// Hover
@mixin base-btn-hover() {
  &:hover {
    z-index: 10;
    @content;
  }
}

// Active
@mixin base-btn-active() {
  &:active {
    z-index: 15;
    @content;
  }
}

// Focus
@mixin base-btn-focus() {
  &:focus {
    z-index: 10;
    outline: none;
    @content;
  }
}

// Compiled Base Button Styles With States
@mixin make-base-btn() {
  @include base-btn-init;
  @include base-btn-hover;
  @include base-btn-active;
  @include base-btn-focus;
  @content;
}

////////////////////////////////////////
// Button Colors
////////////////////////////////////////

@mixin btn-color-init( $bg-color, $border-color, $color ) {
  color: $color;
  background: $bg-color;
  border: 0 none;
  @include border-radius(1px);
  @include box-shadow( 
    0 0 0 1px $border-color,
    0 0 0 2px transparent
  );
  @include transition( 
    border linear 0.2s,
    box-shadow linear 0.2s
  );
  @content;
}

// All states (hover, active and focus)
@mixin btn-color-state( $bg-color, $border-color, $color ) {
  &:hover,
  &:focus,
  &:focus {
    color: $color;
    background: $bg-color;
    @include box-shadow( 
      0 0 0 1px $border-color,
      0 0 0 2px $border-color
    );
    @content;
  }
}

// Active
@mixin btn-color-active( $bg-color, $border-color, $color ) {
  &:active {
    color: $color;
    background: darken($bg-color, 5%);
    @include box-shadow( 
      0 0 0 1px darken($border-color, 5%),
      0 0 0 2px darken($border-color, 5%)
    );
    @content;
  }
}

// Compiled Color Button Styles With States
@mixin btn-color( $bg-color, $border-color, $color : #fff ) {
  @include btn-color-init( $bg-color, $border-color, $color );
  @include btn-color-state( $bg-color, $border-color, $color );
  @include btn-color-active( $bg-color, $border-color, $color );
  @content;
}

////////////////////////////////////////
// Button Sizing
////////////////////////////////////////

@mixin btn-size-huge() {
  font-size: 18px;
  line-height: 24px;
  padding: 20px 60px;
  height: auto;
}
@mixin btn-size-large() {
  font-size: 16px;
  line-height: 22px;
  padding: 15px 30px;
  height: auto;
}
@mixin btn-size-normal() {
  font-size: 14px;
  line-height: 20px;
  padding: 10px 20px;
}
@mixin btn-size-small() {
  font-size: 12px;
  line-height: 20px;
  padding: 6px 15px;
  height: auto;
}
@mixin btn-size-tiny() {
  font-size: 10px;
  line-height: 18px;
  padding: 2px 10px;
  height: auto;
}

////////////////////////////////////////
// Button Utility
////////////////////////////////////////

// Faint for subtle buttons
@mixin make-btn-faint() {
  @include btn-color-init( $btn-border-color, $btn-border-color, $btn-color-active );
}

// Disabled
@mixin make-btn-disabled() {
  cursor: not-allowed;
  opacity: 0.75;
  @include btn-color-init( $btn-bg-color, $btn-border-color, $btn-color );
}

////////////////////////////////////////
// Button Structure
////////////////////////////////////////

// BLock
@mixin make-btn-block() {
  display: block;
  width: 100%;
}

// Inline
@mixin make-btn-inline() {
  display: inline-block;
  width: auto;
}

// Mobile
// Converts to block button on mobiles
@mixin make-btn-mobile-block() {
  @include make-btn-block();
  @include media-tablet {
    @include make-btn-inline();
  }
}

// Small Mobile
// Converts to block button on small mobiles
@mixin make-btn-small-block() {
  @include make-btn-inline();
  @include media-small {
    @include make-btn-block();
  }
}

/*==============================================================================
  Buttons
==============================================================================*/

/**
 * Base Button Styles
 */
.btn {
  @include make-base-btn();
}
form .btn { vertical-align: inherit; }

/**
 * Semantic Classes
 */
.btn-default {
  @include btn-color-init( $btn-bg-color, $btn-border-color, $btn-color );
  @include btn-color-state( $btn-bg-color-state, $btn-border-color-state, $btn-color-state );
  @include btn-color-active( $btn-bg-color-active, $btn-border-color-active, $btn-color-active );
}
.btn-primary {
  @include btn-color( $blue-light, $blue-dark );
}
.btn-secondary {
  @include btn-color( $g5, $g3 );
}
.btn-success {
  @include btn-color( mix($green-light, $yellow-light), mix($green-dark, $yellow-dark) );
}
.btn-warning {
  @include btn-color( mix($yellow-light, $orange-light), mix($yellow-dark, $orange-dark) );
}
.btn-danger {
  @include btn-color( $red-light, $red-dark );
}
.btn-active {
  @include btn-color( $blue-light, $blue-dark );
}

/**
 * Size Classes
 */
.btn-huge  {
  @include btn-size-huge();
}
.btn-large {
  @include btn-size-large();
}
.btn-normal {
  @include btn-size-normal();
}
.btn-small {
  @include btn-size-small();
}
.btn-tiny {
  @include btn-size-tiny();
}

/*==============================================================================
  Button Utilities
==============================================================================*/

/** 
 * Faint
 */
.btn-faint {
  @include make-btn-faint();
}

/**
 * Disabled
 */
.btn.btn-disabled,
.btn.btn-disabled:hover,
.btn.btn-disabled:active,
.btn.btn-disabled:focus,
.btn[disabled],
.btn[disabled]:hover,
.btn[disabled]:active,
.btn[disabled]:focus {
  @include make-btn-disabled();
}

/**
 * Button Structure
 */
.btn-block {
  @include make-btn-block();
}
.btn-inline {
  @include make-btn-inline();
}
.btn-mobile-block {
  @include make-btn-mobile-block();
}
.btn-small-block {
  @include make-btn-small-block();
}
